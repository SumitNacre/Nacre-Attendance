<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance System</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        button { padding: 10px; font-size: 16px; margin: 5px; }
        table { width: 90%; margin: auto; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 8px; text-align: center; }
    </style>
</head>
<body>

    <h2>Attendance System</h2>
    <button onclick="loginAdmin()">Admin Login</button>
    <button onclick="markInTime()">Mark In-Time</button>
    <button onclick="markOutTime()">Mark Out-Time</button>
    
    <h3>Attendance Log</h3>
    <table>
        <tr><th>Date</th><th>Name</th><th>Designation</th><th>In-Time</th><th>Out-Time</th><th>Actions</th></tr>
        <tbody id="attendanceTable"></tbody>
    </table>

    <script>
        let attendanceData = [];
        let isAdmin = false;

        function loginAdmin() {
            let username = prompt("Enter Admin Username:");
            let password = prompt("Enter Password:");
            
            // Dummy credentials
            if (username === "admin" && password === "1234") {
                alert("Admin login successful!");
                isAdmin = true;
                displayAttendance();
            } else {
                alert("Invalid credentials!");
            }
        }

        function markInTime() {
            let name = prompt("Enter your name:");
            let designation = prompt("Enter your designation:");
            let now = new Date();
            let date = now.toLocaleDateString();
            let time = now.toLocaleTimeString();
            if (name && designation) {
                attendanceData.push({ date, name, designation, inTime: time, outTime: "-" });
                displayAttendance();
            }
        }

        function markOutTime() {
            let name = prompt("Enter your name to update Out-Time:");
            let now = new Date();
            let time = now.toLocaleTimeString();
            let found = false;
            attendanceData.forEach((entry) => {
                if (entry.name === name && entry.outTime === "-") {
                    entry.outTime = time;
                    found = true;
                }
            });
            if (!found) alert("No In-Time record found or Out-Time already updated!");
            displayAttendance();
        }

        function displayAttendance() {
            let tableBody = document.getElementById("attendanceTable");
            tableBody.innerHTML = "";
            attendanceData.forEach((entry, index) => {
                tableBody.innerHTML += `
                    <tr>
                        <td>${entry.date}</td>
                        <td>${entry.name}</td>
                        <td>${entry.designation}</td>
                        <td>${entry.inTime}</td>
                        <td>${entry.outTime}</td>
                        <td>
                            ${isAdmin ? `<button onclick="editEntry(${index})">Edit</button>
                                         <button onclick="deleteEntry(${index})">Delete</button>` : "N/A"}
                        </td>
                    </tr>`;
            });
        }

        function editEntry(index) {
            if (isAdmin) {
                let newName = prompt("Edit Name:", attendanceData[index].name);
                let newDesignation = prompt("Edit Designation:", attendanceData[index].designation);
                let newDate = prompt("Edit Date:", attendanceData[index].date);
                let newInTime = prompt("Edit In-Time:", attendanceData[index].inTime);
                let newOutTime = prompt("Edit Out-Time:", attendanceData[index].outTime);
                if (newName && newDesignation && newDate && newInTime && newOutTime) {
                    attendanceData[index] = { date: newDate, name: newName, designation: newDesignation, inTime: newInTime, outTime: newOutTime };
                    displayAttendance();
                }
            } else {
                alert("Admin access required!");
            }
        }

        function deleteEntry(index) {
            if (isAdmin) {
                if (confirm("Are you sure you want to delete this entry?")) {
                    attendanceData.splice(index, 1);
                    displayAttendance();
                }
            } else {
                alert("Admin access required!");
            }
        }
    </script>

</body>
</html>